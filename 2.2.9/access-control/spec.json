{"openapi":"3.0.1","info":{"title":"BioT Access Control Server","description":"APIs document description for access control service","version":"3.0.0"},"servers":[{"url":"/access-control"}],"paths":{"/v1/access-control/pre":{"post":{"tags":["plugin-lib-controller"],"description":"\n\n\n\nThis API requires **PLUGIN_INTERCEPTOR** permission(s).\n\n","operationId":"preIntercept","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreInterceptorRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreInterceptorResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/access-control/post":{"post":{"tags":["plugin-lib-controller"],"description":"\n\n\n\nThis API requires **PLUGIN_INTERCEPTOR** permission(s).\n\n","operationId":"postIntercept","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostInterceptorRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostInterceptorResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/v1/access-control/entity":{"post":{"tags":["plugin-lib-controller"],"description":"\n\n\n\nThis API requires **PLUGIN_INTERCEPTOR** permission(s).\n\n","operationId":"postEntityIntercept","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostEntityInterceptorRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostEntityInterceptorResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/system/healthCheck":{"get":{"tags":["Health Check API"],"summary":"Service Health check API","description":"Service Health check API\n\nThe API returns 200 if the service is up, used by the Load Balancer\n\nThis API is **public**.\n\n","operationId":"healthCheck","responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionResponse"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"code":{"type":"string","example":"EXAMPLE_CODE_ENTITY_NOT_FOUND"},"message":{"type":"string","example":"Entity with id [00000000-0000-0000-0000-000000000000] not found"},"serviceName":{"type":"string","example":"Device Service"},"traceId":{"type":"string","example":"a07a7e532f3541d8"},"environment":{"type":"string","example":"develop"},"details":{"type":"object","additionalProperties":{"type":"object"}}}},"InitiatorData":{"type":"object","properties":{"subjectId":{"type":"string"},"ownerOrganizationId":{"type":"string","format":"uuid"},"tokenType":{"type":"string","enum":["USER","SERVICE_INTERNAL","SERVICE_EXTERNAL","DEVICE"]}}},"InterceptedRequest":{"required":["path"],"type":"object","properties":{"body":{"type":"object"},"path":{"type":"string"},"queryParameters":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}},"headers":{"type":"object","additionalProperties":{"type":"string"}},"pathVariables":{"type":"array","items":{"$ref":"#/components/schemas/PathVariableData"}}}},"PathVariableData":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}}},"PreInterceptorRequest":{"required":["apiId","entityName","method","request"],"type":"object","properties":{"initiatorData":{"$ref":"#/components/schemas/InitiatorData"},"method":{"type":"string"},"entityName":{"type":"string"},"apiId":{"type":"string"},"request":{"$ref":"#/components/schemas/InterceptedRequest"}}},"NewInterceptedRequest":{"required":["path"],"type":"object","properties":{"body":{"type":"object"},"path":{"type":"string"},"queryParameters":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}},"headers":{"type":"object","additionalProperties":{"type":"string"}}}},"PreInterceptorResponse":{"required":["request"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/NewInterceptedRequest"}}},"InterceptedResponse":{"required":["httpStatusCode"],"type":"object","properties":{"body":{"type":"object"},"httpStatusCode":{"type":"string","enum":["100 CONTINUE","101 SWITCHING_PROTOCOLS","102 PROCESSING","103 EARLY_HINTS","103 CHECKPOINT","200 OK","201 CREATED","202 ACCEPTED","203 NON_AUTHORITATIVE_INFORMATION","204 NO_CONTENT","205 RESET_CONTENT","206 PARTIAL_CONTENT","207 MULTI_STATUS","208 ALREADY_REPORTED","226 IM_USED","300 MULTIPLE_CHOICES","301 MOVED_PERMANENTLY","302 FOUND","302 MOVED_TEMPORARILY","303 SEE_OTHER","304 NOT_MODIFIED","305 USE_PROXY","307 TEMPORARY_REDIRECT","308 PERMANENT_REDIRECT","400 BAD_REQUEST","401 UNAUTHORIZED","402 PAYMENT_REQUIRED","403 FORBIDDEN","404 NOT_FOUND","405 METHOD_NOT_ALLOWED","406 NOT_ACCEPTABLE","407 PROXY_AUTHENTICATION_REQUIRED","408 REQUEST_TIMEOUT","409 CONFLICT","410 GONE","411 LENGTH_REQUIRED","412 PRECONDITION_FAILED","413 PAYLOAD_TOO_LARGE","413 REQUEST_ENTITY_TOO_LARGE","414 URI_TOO_LONG","414 REQUEST_URI_TOO_LONG","415 UNSUPPORTED_MEDIA_TYPE","416 REQUESTED_RANGE_NOT_SATISFIABLE","417 EXPECTATION_FAILED","418 I_AM_A_TEAPOT","419 INSUFFICIENT_SPACE_ON_RESOURCE","420 METHOD_FAILURE","421 DESTINATION_LOCKED","422 UNPROCESSABLE_ENTITY","423 LOCKED","424 FAILED_DEPENDENCY","425 TOO_EARLY","426 UPGRADE_REQUIRED","428 PRECONDITION_REQUIRED","429 TOO_MANY_REQUESTS","431 REQUEST_HEADER_FIELDS_TOO_LARGE","451 UNAVAILABLE_FOR_LEGAL_REASONS","500 INTERNAL_SERVER_ERROR","501 NOT_IMPLEMENTED","502 BAD_GATEWAY","503 SERVICE_UNAVAILABLE","504 GATEWAY_TIMEOUT","505 HTTP_VERSION_NOT_SUPPORTED","506 VARIANT_ALSO_NEGOTIATES","507 INSUFFICIENT_STORAGE","508 LOOP_DETECTED","509 BANDWIDTH_LIMIT_EXCEEDED","510 NOT_EXTENDED","511 NETWORK_AUTHENTICATION_REQUIRED"]}}},"PostInterceptorRequest":{"required":["apiId","entityName","method","request","response"],"type":"object","properties":{"initiatorData":{"$ref":"#/components/schemas/InitiatorData"},"method":{"type":"string"},"entityName":{"type":"string"},"apiId":{"type":"string"},"request":{"$ref":"#/components/schemas/InterceptedRequest"},"response":{"$ref":"#/components/schemas/InterceptedResponse"}}},"PostInterceptorResponse":{"required":["response"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/InterceptedResponse"}}},"PostEntityInterceptedResponse":{"required":["httpStatusCode"],"type":"object","properties":{"entities":{"type":"array","items":{"type":"object"}},"httpStatusCode":{"type":"string","enum":["100 CONTINUE","101 SWITCHING_PROTOCOLS","102 PROCESSING","103 EARLY_HINTS","103 CHECKPOINT","200 OK","201 CREATED","202 ACCEPTED","203 NON_AUTHORITATIVE_INFORMATION","204 NO_CONTENT","205 RESET_CONTENT","206 PARTIAL_CONTENT","207 MULTI_STATUS","208 ALREADY_REPORTED","226 IM_USED","300 MULTIPLE_CHOICES","301 MOVED_PERMANENTLY","302 FOUND","302 MOVED_TEMPORARILY","303 SEE_OTHER","304 NOT_MODIFIED","305 USE_PROXY","307 TEMPORARY_REDIRECT","308 PERMANENT_REDIRECT","400 BAD_REQUEST","401 UNAUTHORIZED","402 PAYMENT_REQUIRED","403 FORBIDDEN","404 NOT_FOUND","405 METHOD_NOT_ALLOWED","406 NOT_ACCEPTABLE","407 PROXY_AUTHENTICATION_REQUIRED","408 REQUEST_TIMEOUT","409 CONFLICT","410 GONE","411 LENGTH_REQUIRED","412 PRECONDITION_FAILED","413 PAYLOAD_TOO_LARGE","413 REQUEST_ENTITY_TOO_LARGE","414 URI_TOO_LONG","414 REQUEST_URI_TOO_LONG","415 UNSUPPORTED_MEDIA_TYPE","416 REQUESTED_RANGE_NOT_SATISFIABLE","417 EXPECTATION_FAILED","418 I_AM_A_TEAPOT","419 INSUFFICIENT_SPACE_ON_RESOURCE","420 METHOD_FAILURE","421 DESTINATION_LOCKED","422 UNPROCESSABLE_ENTITY","423 LOCKED","424 FAILED_DEPENDENCY","425 TOO_EARLY","426 UPGRADE_REQUIRED","428 PRECONDITION_REQUIRED","429 TOO_MANY_REQUESTS","431 REQUEST_HEADER_FIELDS_TOO_LARGE","451 UNAVAILABLE_FOR_LEGAL_REASONS","500 INTERNAL_SERVER_ERROR","501 NOT_IMPLEMENTED","502 BAD_GATEWAY","503 SERVICE_UNAVAILABLE","504 GATEWAY_TIMEOUT","505 HTTP_VERSION_NOT_SUPPORTED","506 VARIANT_ALSO_NEGOTIATES","507 INSUFFICIENT_STORAGE","508 LOOP_DETECTED","509 BANDWIDTH_LIMIT_EXCEEDED","510 NOT_EXTENDED","511 NETWORK_AUTHENTICATION_REQUIRED"]}}},"PostEntityInterceptorRequest":{"required":["apiId","entityName","method","request","response"],"type":"object","properties":{"initiatorData":{"$ref":"#/components/schemas/InitiatorData"},"method":{"type":"string"},"entityName":{"type":"string"},"apiId":{"type":"string"},"request":{"$ref":"#/components/schemas/InterceptedRequest"},"response":{"$ref":"#/components/schemas/PostEntityInterceptedResponse"}}},"PostEntityInterceptorResponse":{"required":["response"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/PostEntityInterceptedResponse"}}},"VersionResponse":{"type":"object","properties":{"version":{"type":"string"},"springVersion":{"type":"string"},"traceId":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}