{"openapi":"3.0.1","info":{"title":"BioT Dispatcher Server","description":"APIs document description for seed service","version":"1.6.1"},"servers":[{"url":"/dispatcher"}],"paths":{"/v1/hooks/notifications/unsubscribe":{"post":{"tags":["Subscription API"],"description":"\n\n\n\n\n\nThis API requires **DISPATCHER_SUBSCRIPTIONS_UNSUBSCRIBE** permission(s).\n\n\n\nThis API requires **DISPATCHER_SUBSCRIPTIONS_UNSUBSCRIBE** permission(s).\n\n","operationId":"unsubscribe","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnsubscribeRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"NO_CONTENT"},"500":{"description":"Code : INTERNAL_SERVER_ERROR, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Code : TOKEN_NOT_VALID, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Code : ACCESS_DENIED, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Code : SUBSCRIBER_NOT_FOUND, Details: [entityTypeName, actionName, endpoint]","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"bearerAuth":[]},{"bearerAuth":[]}]}},"/v1/hooks/notifications/subscribe":{"post":{"tags":["Subscription API"],"summary":"Subscribe to get notifications for actions","description":"Subscribe to get notifications for actions\n\nSubscribe to get notifications for actions\n\n\n\nIf a subscription (to same action entity and endpoint) is already exist, the call will result in a CONFLICT response\n\n\n\n### The below table describes the request parameters:\n\n| Parameter          | Type          | Mandatory | Description                                                   |\n            |--------------------|---------------|-----------|---------------------------------------------------------------|\n             | entityTypeName | String | true | Should be one of the valid entity types of the BioT system. Supported entity type names are:\n |  |  |  | usage-session\n |  |  |  | generic-entity\n |  |  |  | caregiver\n |  |  |  | patient\n |  |  |  | organization\n |  |  |  | organization-user\n |  |  |  | device\n |  |  |  | device-alert\n |  |  |  | command\n |  |  |  | patient-alert\n | actionName | String | true | Should be one of the valid action types of the BioT system. Supported actions are:\n |  |  |  | _operate\n |  |  |  | _start\n |  |  |  | _read\n |  |  |  | _remoteResume\n |  |  |  | _remoteStart\n |  |  |  | _clear\n |  |  |  | _create\n |  |  |  | _assign\n |  |  |  | _list\n |  |  |  | _stop\n |  |  |  | _generateCertificate\n |  |  |  | _saveMeasurement\n |  |  |  | _remotePause\n |  |  |  | _updateAdmin\n |  |  |  | _update\n |  |  |  | _activateCertificate\n |  |  |  | _monitor\n |  |  |  | _delete\n |  |  |  | _logout\n |  |  |  | _remoteStop\n |  |  |  | _login\n |  |  |  | _updateEnabledState\n |  |  |  | _view\n |  |  |  | _revokeCertificate\n |  |  |  | _command\n |  |  |  | _manage\n | endpoint | String | true | A valid URI\n\n\n\n\nThis API requires **DISPATCHER_SUBSCRIPTIONS_SUBSCRIBE** permission(s).\n\n\n\nThis API requires **DISPATCHER_SUBSCRIPTIONS_SUBSCRIBE** permission(s).\n\n","operationId":"subscribe","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscribeRequest"}}},"required":true},"responses":{"400":{"description":"Code : INVALID_ACTION_NAME, Details: [invalidActionName, validActionNames]\n\nCode : INVALID_ENTITY_TYPE_NAME, Details: [invalidEntityType, validEntityTypes]","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"\n\n### The below table describes the response parameters:\n\n| Parameter          | Type       | Description                                                   |\n            |--------------------|-------------|---------------------------------------------------------------|\n             | entityTypeName | String | Should be one of the valid entity types of the BioT system. Supported entity type names are:\n |  |  |  | usage-session\n |  |  |  | generic-entity\n |  |  |  | caregiver\n |  |  |  | patient\n |  |  |  | organization\n |  |  |  | organization-user\n |  |  |  | device\n |  |  |  | device-alert\n |  |  |  | command\n |  |  |  | patient-alert\n | actionName | String | Should be one of the valid action types of the BioT system. Supported actions are:\n |  |  |  | _operate\n |  |  |  | _start\n |  |  |  | _read\n |  |  |  | _remoteResume\n |  |  |  | _remoteStart\n |  |  |  | _clear\n |  |  |  | _create\n |  |  |  | _assign\n |  |  |  | _list\n |  |  |  | _stop\n |  |  |  | _generateCertificate\n |  |  |  | _saveMeasurement\n |  |  |  | _remotePause\n |  |  |  | _updateAdmin\n |  |  |  | _update\n |  |  |  | _activateCertificate\n |  |  |  | _monitor\n |  |  |  | _delete\n |  |  |  | _logout\n |  |  |  | _remoteStop\n |  |  |  | _login\n |  |  |  | _updateEnabledState\n |  |  |  | _view\n |  |  |  | _revokeCertificate\n |  |  |  | _command\n |  |  |  | _manage\n | endpoint | String | A valid URI\n\n\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscribeResponse"}}}},"500":{"description":"Code : INTERNAL_SERVER_ERROR, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Code : TOKEN_NOT_VALID, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Code : ACCESS_DENIED, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"bearerAuth":[]},{"bearerAuth":[]}]}},"/v1/hooks/notifications":{"get":{"tags":["Subscription API"],"summary":"Search Subscription entities by filter","description":"Search Subscription entities by filter\n\nSearch Subscription entities by filter\n\nReturns list of Subscription, the response can be filtered, sorted and supports pagination\n\n\n## Filter\nEach additionalProp can filter one field, inside additionalProp there are many optional conditions that can be used for filtering that field\n\nWhen multiple conditions are specified, they are bundled together using logical AND operators, this means that only the items that match all filter conditions for that field will be returned\n\n***filter*** items possible values: [ *id*,*actionName*,*entityTypeName*,*endpoint* ] \n\n## Sort\nResults can be sorted by multiple fields, the order of the fields in the sort request governs the hierarchy of the sort\n\nThe first field is the primary sort, the second is used when two values of the first field are the same, and so forth\n\n***sort.order*** default value is DESC\n\n***sort.prop*** possible values:[ *actionName*,*entityTypeName* ]\n\nIf sort was not specified, the result will be sorted by: creationTime DESC\n\n## Free text search\nWhen freeTextSearch is passed, the free text search will be performed on every field except those of type Date\n\nIf used together with filters, freeTextSearch will be bundled to the filters with the logical AND operator, this means that only items that match all filters (and each filter's conditions) and the free text search will be returned\n\n## Page\n***limit*** max number of results that will be returned for each page. If not specify, the default will be 100\n\n***page*** page number starting from 0. If not specify, the default will be 0\n\n## Build URL\nEncode the JSON object and use the encoded string as the searchRequest parameter:\n\nhttps://&lt;URL&gt;?searchRequest=<ENCODED_JSON_STRING>\n\n\n\nThis API requires **DISPATCHER_SUBSCRIPTIONS_SEARCH** permission(s).\n\n\n\nThis API requires **DISPATCHER_SUBSCRIPTIONS_SEARCH** permission(s).\n\n","operationId":"searchSubscriptions","parameters":[{"name":"searchRequest","in":"query","description":"Search request parameters: filter, sort and page","required":false,"content":{"*/*":{"schema":{"$ref":"#/components/schemas/SearchRequestV2"}}}}],"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponseSubscribeResponse"}}}},"500":{"description":"Code : INTERNAL_SERVER_ERROR, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Code : TOKEN_NOT_VALID, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Code : ACCESS_DENIED, Details: []","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"security":[{"bearerAuth":[]},{"bearerAuth":[]}]}},"/system/healthCheck":{"get":{"tags":["Health Check API"],"summary":"Service Health check API","description":"Service Health check API\n\nService Health check API\n\nThe API returns 200 if the service is up, used by the Load Balancer\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"healthCheck","responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionResponse"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"code":{"type":"string","example":"EXAMPLE_CODE_ENTITY_NOT_FOUND"},"message":{"type":"string","example":"Entity with id [00000000-0000-0000-0000-000000000000] not found"},"serviceName":{"type":"string","example":"Device Service"},"traceId":{"type":"string","example":"a07a7e532f3541d8"},"environment":{"type":"string","example":"develop"},"details":{"type":"object","additionalProperties":{"type":"object"}}}},"UnsubscribeRequest":{"required":["actionName","endpoint","entityTypeName"],"type":"object","properties":{"entityTypeName":{"type":"string","enum":["device","organization","organization-user","caregiver","patient","usage-session","generic-entity","command","device-alert","patient-alert"]},"actionName":{"type":"string","enum":["_create","_update","_delete","_list","_command","_generateCertificate","_activateCertificate","_revokeCertificate","_operate","_read","_start","_stop","_remoteStart","_remoteStop","_remoteResume","_remotePause","_updateAdmin","_updateEnabledState","_login","_logout","_clear","_manage","_assign","_saveMeasurement","_monitor","_view"]},"endpoint":{"type":"string"}}},"SubscribeRequest":{"required":["actionName","endpoint","entityTypeName"],"type":"object","properties":{"entityTypeName":{"type":"string","enum":["device","organization","organization-user","caregiver","patient","usage-session","generic-entity","command","device-alert","patient-alert"]},"actionName":{"type":"string","enum":["_create","_update","_delete","_list","_command","_generateCertificate","_activateCertificate","_revokeCertificate","_operate","_read","_start","_stop","_remoteStart","_remoteStop","_remoteResume","_remotePause","_updateAdmin","_updateEnabledState","_login","_logout","_clear","_manage","_assign","_saveMeasurement","_monitor","_view"]},"endpoint":{"type":"string"}}},"SubscribeResponse":{"required":["actionName","endpoint","entityTypeName"],"type":"object","properties":{"entityTypeName":{"type":"string","enum":["device","organization","organization-user","caregiver","patient","usage-session","generic-entity","command","device-alert","patient-alert"]},"actionName":{"type":"string","enum":["_create","_update","_delete","_list","_command","_generateCertificate","_activateCertificate","_revokeCertificate","_operate","_read","_start","_stop","_remoteStart","_remoteStop","_remoteResume","_remotePause","_updateAdmin","_updateEnabledState","_login","_logout","_clear","_manage","_assign","_saveMeasurement","_monitor","_view"]},"endpoint":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"FilterV2":{"type":"object","properties":{"in":{"type":"array","items":{"type":"string"}},"eq":{"type":"object"},"lt":{"type":"number"},"lte":{"type":"number"},"gt":{"type":"number"},"gte":{"type":"number"},"like":{"type":"string"},"from":{"type":"string","format":"date-time"},"to":{"type":"string","format":"date-time"},"isNull":{"type":"boolean"},"isNotNull":{"type":"boolean"},"not":{"type":"object"},"notIn":{"type":"array","items":{"type":"string"}}}},"Order":{"required":["prop"],"type":"object","properties":{"prop":{"type":"string"},"order":{"type":"string","enum":["ASC","DESC"]}}},"SearchRequestV2":{"type":"object","properties":{"filter":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FilterV2"}},"sort":{"type":"array","items":{"$ref":"#/components/schemas/Order"}},"freeTextSearch":{"type":"string"},"limit":{"minimum":1,"type":"integer","format":"int32"},"page":{"minimum":0,"type":"integer","format":"int32"}}},"Metadata":{"type":"object","properties":{"sort":{"type":"array","items":{"$ref":"#/components/schemas/Order"}},"filter":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FilterV2"}},"page":{"$ref":"#/components/schemas/PageMetadata"},"freeTextSearch":{"type":"string"}}},"PageMetadata":{"type":"object","properties":{"totalResults":{"type":"integer","format":"int64"},"page":{"type":"integer","format":"int32"},"limit":{"type":"integer","format":"int32"}}},"SearchResponseSubscribeResponse":{"required":["data","metadata"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/SubscribeResponse"}},"metadata":{"$ref":"#/components/schemas/Metadata"}}},"VersionResponse":{"type":"object","properties":{"version":{"type":"string"},"springVersion":{"type":"string"},"traceId":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}