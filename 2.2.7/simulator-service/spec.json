{"openapi":"3.0.1","info":{"title":"BioT Simulator Service","description":"APIs document description for Simulator service","version":"0.43.0"},"servers":[{"url":"/simulator"}],"paths":{"/v1/simulation/withExisting/start":{"post":{"tags":["Simulator API"],"description":"\n\n\n\n\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"startSimulationForExistingDevices","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSimulationForExistingDevicesRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"INTERNAL_SERVER_ERROR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"TOKEN_NOT_VALID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS"},"403":{"description":"ACCESS_DENIED","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/v1/simulation/start":{"post":{"tags":["Simulator API"],"summary":"Start a new simulation","description":"Start a new simulation\n\nStart a new simulation\n\n\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"startSimulation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSimulationRequest"}}},"required":true},"responses":{"400":{"description":"SIMULATION_IS_ALREADY_RUNNING / NO_ATTRIBUTES_TO_MEASURE / WRONG_USERNAME_AND_PASSWORD / CONNECTING_TO_IOT_ERROR / SIMULATION_REQUEST_ERROR / CREATING_PATIENTS_ERROR / CREATING_PATIENTS_ERROR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"INTERNAL_SERVER_ERROR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"TOKEN_NOT_VALID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS","content":{"*/*":{"schema":{"type":"object"}}}},"403":{"description":"ACCESS_DENIED","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/v1/simulation/session/resume":{"post":{"tags":["Simulator API"],"description":"\n\n\n\n\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"resumeSimulation","responses":{"400":{"description":"SESSION_IS_ALREADY_RUNNING","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"INTERNAL_SERVER_ERROR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"TOKEN_NOT_VALID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS"},"403":{"description":"ACCESS_DENIED","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/v1/simulation/session/pause":{"post":{"tags":["Simulator API"],"description":"\n\n\n\n\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"pauseSession","responses":{"400":{"description":"NO_RUNNING_SESSION","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"INTERNAL_SERVER_ERROR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"TOKEN_NOT_VALID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS"},"403":{"description":"ACCESS_DENIED","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/v1/simulation/stop":{"get":{"tags":["Simulator API"],"summary":"Stop a running simulation","description":"Stop a running simulation\n\nStop a running simulation\n\n\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"stopSimulation","responses":{"400":{"description":"NO_RUNNING_SIMULATION","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"INTERNAL_SERVER_ERROR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"TOKEN_NOT_VALID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StopSimulationResponse"}}}},"403":{"description":"ACCESS_DENIED","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/v1/simulation/status":{"get":{"tags":["Simulator API"],"summary":"Get status of simulation","description":"Get status of simulation\n\nGet status of simulation\n\n\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"getSimulationStatus","responses":{"400":{"description":"NO_RUNNING_SIMULATION","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"INTERNAL_SERVER_ERROR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"TOKEN_NOT_VALID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"SUCCESS","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetSimulationStatusResponse"}}}},"403":{"description":"ACCESS_DENIED","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/system/healthCheck":{"get":{"tags":["Health Check API"],"summary":"Service Health check API","description":"Service Health check API\n\nService Health check API\n\nThe API returns 200 if the service is up, used by the Load Balancer\n\nThis API is **public**.\n\n\n\nThis API is **public**.\n\n","operationId":"healthCheck","responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VersionResponse"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"code":{"type":"string","example":"EXAMPLE_CODE_ENTITY_NOT_FOUND"},"message":{"type":"string","example":"Entity with id [00000000-0000-0000-0000-000000000000] not found"},"serviceName":{"type":"string","example":"Device Service"},"traceId":{"type":"string","example":"a07a7e532f3541d8"},"environment":{"type":"string","example":"develop"},"details":{"type":"object","additionalProperties":{"type":"object"}}}},"Category":{"required":["displayName","name"],"type":"object","properties":{"name":{"type":"string"},"displayName":{"type":"string"}}},"CommandConfigurationRequest":{"required":["commandsLengthInSeconds","sendStatusAttributes","sendSummaryAttributes","shouldFailCommand","shouldFailStop"],"type":"object","properties":{"commandsLengthInSeconds":{"minimum":1,"type":"integer","format":"int32"},"shouldFailCommand":{"type":"boolean"},"shouldFailStop":{"type":"boolean"},"sendStatusAttributes":{"type":"boolean"},"sendSummaryAttributes":{"type":"boolean"},"errorMessage":{"type":"string"}}},"CustomAttribute":{"required":["category","displayName","id","name","type"],"type":"object","properties":{"displayName":{"maxLength":36,"minLength":1,"type":"string"},"phi":{"type":"boolean"},"referenceConfiguration":{"$ref":"#/components/schemas/ReferenceConfiguration"},"linkConfiguration":{"$ref":"#/components/schemas/LinkConfiguration"},"name":{"maxLength":36,"minLength":1,"pattern":"[a-zA-Z]\\w*","type":"string"},"type":{"type":"string","enum":["LABEL","PARAGRAPH","INTEGER","DECIMAL","BOOLEAN","SINGLE_SELECT","MULTI_SELECT","ADDRESS","NAME","PHONE","EMAIL","DATE_TIME","DATE","REFERENCE","TIMEZONE","LOCALE","FILE","IMAGE","LINK","WAVEFORM"]},"validation":{"$ref":"#/components/schemas/ValidationDefinitionObject"},"numericMetaData":{"$ref":"#/components/schemas/NumericMetaData"},"id":{"type":"string","format":"uuid"},"selectableValues":{"type":"array","items":{"$ref":"#/components/schemas/SelectableValue"}},"category":{"$ref":"#/components/schemas/Category"},"basePath":{"type":"string"}}},"LinkConfiguration":{"required":["attributeId","entityTypeName","templateId"],"type":"object","properties":{"entityTypeName":{"maxLength":64,"minLength":0,"type":"string"},"templateId":{"type":"string","format":"uuid"},"attributeId":{"type":"string","format":"uuid"}}},"NumericMetaData":{"type":"object","properties":{"units":{"type":"string"},"upperRange":{"maximum":2147483647,"minimum":-2147483648,"type":"number"},"lowerRange":{"maximum":2147483647,"minimum":-2147483648,"type":"number"},"subType":{"type":"string","enum":["INTEGER","DECIMAL"]}}},"ReferenceConfiguration":{"required":["entityType"],"type":"object","properties":{"uniquely":{"type":"boolean"},"referencedSideAttributeName":{"maxLength":128,"minLength":0,"type":"string"},"validTemplatesToReference":{"uniqueItems":true,"type":"array","items":{"type":"string","format":"uuid"}},"entityType":{"maxLength":64,"minLength":0,"type":"string"}}},"SelectableValue":{"required":["displayName","name"],"type":"object","properties":{"name":{"pattern":"[a-zA-Z]\\w*","type":"string"},"displayName":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"StartSimulationForExistingDevicesRequest":{"required":["commandConfigurationRequest","devicesIds","password","shouldFailSession","simulationLength","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"simulationLength":{"minimum":1,"type":"integer","format":"int32"},"shouldFailSession":{"type":"boolean"},"devicesIds":{"type":"array","items":{"type":"string"}},"chosenMeasurementsAttributes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/CustomAttribute"}},"commandConfigurationRequest":{"$ref":"#/components/schemas/CommandConfigurationRequest"}}},"ValidationDefinitionObject":{"required":["mandatory"],"type":"object","properties":{"mandatory":{"type":"boolean"},"defaultValue":{"type":"object"},"min":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"number","format":"number"},"max":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"number","format":"number"},"regex":{"type":"string"}}},"StartSimulationRequest":{"required":["attributeValueMethod","measurementsFrequency","numOfDevices","password","reportRandomAttributes","shouldFailSession","simulationLength","username","waveformRequest"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"simulationLength":{"minimum":1,"type":"integer","format":"int32"},"shouldFailSession":{"type":"boolean"},"numOfDevices":{"maximum":30,"minimum":1,"type":"integer","format":"int32"},"measurementsFrequency":{"minimum":1,"type":"integer","format":"int32"},"deviceStatusFrequency":{"minimum":0,"type":"integer","format":"int32"},"reportRandomAttributes":{"type":"boolean"},"attributeValueMethod":{"type":"string","enum":["RANDOM"]},"waveformRequest":{"$ref":"#/components/schemas/WaveformRequest"}}},"WaveformRequest":{"required":["frequency","waveformSimulatorTypeEnum"],"type":"object","properties":{"waveformSimulatorTypeEnum":{"type":"string","enum":["FIXED","RANDOM","INCREMENTAL"]},"frequency":{"type":"integer","format":"int32"},"fixedValue":{"type":"number"}}},"BaseDeviceStatistics":{"type":"object","properties":{"deviceId":{"type":"string"},"executionTimeInMinutes":{"type":"integer","format":"int64"},"numOfSuccessfulMeasurements":{"type":"integer","format":"int32"},"numOfFailedMeasurements":{"type":"integer","format":"int32"},"numOfSuccessfulStatusUpdates":{"type":"integer","format":"int32"},"numOfFailedStatusUpdates":{"type":"integer","format":"int32"}}},"StopSimulationResponse":{"type":"object","properties":{"timeStarted":{"type":"string","format":"date-time"},"executionTimeInMinutes":{"type":"integer","format":"int64"},"numOfSuccessfulMeasurements":{"type":"integer","format":"int32"},"numOfFailedMeasurements":{"type":"integer","format":"int32"},"numOfSuccessfulStatusUpdates":{"type":"integer","format":"int32"},"numOfFailedStatusUpdates":{"type":"integer","format":"int32"},"numOfDevices":{"type":"integer","format":"int32"},"timeEnded":{"type":"string","format":"date-time"},"devicesStatistics":{"type":"array","items":{"$ref":"#/components/schemas/BaseDeviceStatistics"}}}},"BaseDeviceState":{"type":"object","properties":{"connectingToIot":{"type":"boolean"},"runningMeasurement":{"type":"boolean"},"sendingStatus":{"type":"boolean"}}},"BaseDeviceStatus":{"type":"object","properties":{"deviceStatistics":{"$ref":"#/components/schemas/BaseDeviceStatistics"},"deviceState":{"$ref":"#/components/schemas/BaseDeviceState"},"runningSessionDetails":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/SessionDetails"}}}},"GetSimulationStatusResponse":{"type":"object","properties":{"timeStarted":{"type":"string","format":"date-time"},"executionTimeInMinutes":{"type":"integer","format":"int64"},"numOfSuccessfulMeasurements":{"type":"integer","format":"int32"},"numOfFailedMeasurements":{"type":"integer","format":"int32"},"numOfSuccessfulStatusUpdates":{"type":"integer","format":"int32"},"numOfFailedStatusUpdates":{"type":"integer","format":"int32"},"numOfDevices":{"type":"integer","format":"int32"},"timeToEnd":{"type":"string","format":"date-time"},"devicesStatus":{"type":"array","items":{"$ref":"#/components/schemas/BaseDeviceStatus"}}}},"SessionContext":{"type":"object","properties":{"patientId":{"type":"string","format":"uuid"},"sessionId":{"type":"string","format":"uuid"},"ownerOrganizationId":{"type":"string","format":"uuid"}}},"SessionDetails":{"type":"object","properties":{"sessionContext":{"$ref":"#/components/schemas/SessionContext"},"sessionContextAsString":{"type":"string"},"sessionStopped":{"type":"boolean"}}},"VersionResponse":{"type":"object","properties":{"version":{"type":"string"},"springVersion":{"type":"string"},"traceId":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}